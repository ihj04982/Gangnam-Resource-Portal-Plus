#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# TypeScript íƒ€ì… ì²´í¬
echo "ğŸ“˜ Checking TypeScript types..."
npm run build

# ESLint ê²€ì‚¬ 
echo "ğŸ”§ Running ESLint..."
npm run lint

# Prettierë¡œ staged files í¬ë§·íŒ…
echo "âœ¨ Running Prettier on staged files..."
npx prettier --write --ignore-unknown $(git diff --cached --name-only --diff-filter=ACMR | tr '\n' ' ')

# í¬ë§·íŒ…ëœ íŒŒì¼ë“¤ì„ staging areaì— ë‹¤ì‹œ ì¶”ê°€
git update-index --again

echo "âœ… All pre-commit checks passed!"
